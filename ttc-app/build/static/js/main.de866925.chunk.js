(this["webpackJsonpttc-app"]=this["webpackJsonpttc-app"]||[]).push([[0],{21:function(e,t,n){e.exports=n(53)},26:function(e,t,n){},27:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},28:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(3),l=n.n(i),c=(n(26),n(27),n(28),n(2)),r=n(4),s=n(5),u=n(19),m=n.n(u),d={ttc_info:{staion_name:"",bus_info:[]},isLoading:!1,error:"",showInfo:!1},f=(n(52),Object(r.b)((function(e){return{ttc_info:e.ttc_info,isLoading:e.isLoading,error:e.error,showInfo:e.showInfo}}),{fetchData:function(e){return function(t){t({type:"FETCH_DATA"}),setTimeout((function(){m.a.get("https://myttc.ca/".concat(e,"_station")).then((function(e){console.log("TROY: ACTIONS > AXIOS THEN RES",e);var n=e.data.name,a=e.data.stops[0].routes.map((function(e){var t=e.name,a=e.stop_times[0].departure_time,o=e.stop_times[1].departure_time,i=e.stop_times[0].departure_timestamp;return{name:n,line:t,first:a,second:o,key:i}}));t({type:"DATA_SUCCESS",payload:{station_name:n,bus_info:a}})})).catch((function(e){console.log("TROY : ACTIONS : AXIOS THEN ERR",e),t({type:"DATA_ERROR",payload:e})}))}),1500)}}})((function(e){return console.log("TTC PROPS",e),o.a.createElement("div",{className:"ttcSched"},e.isLoading?o.a.createElement("div",null,"Retrieving Information"):o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h1",null,"TTC Transit Aid"),o.a.createElement("p",null,"***currently just tested this with Davisville station, possible future expansion***")),o.a.createElement("div",{className:"choose-form"},o.a.createElement("label",{className:"station-pick"},"Choose a station"),o.a.createElement("select",{id:"bus-station",name:"bus-station"},o.a.createElement("option",{value:"davisville"},"Davisville"),o.a.createElement("option",{value:"finch"},"Finch"),o.a.createElement("option",{value:"jane"},"Jane"))),o.a.createElement("button",{onClick:function(){return e.fetchData("davisville")}},"GET DATA"),o.a.createElement("div",{className:"busInfo"},o.a.createElement("h1",null,"Station Name : ",e.ttc_info.station_name),e.ttc_info.bus_info.map((function(e){return o.a.createElement("div",null,o.a.createElement("h3",null,"Line: ",e.line),o.a.createElement("ul",null,o.a.createElement("li",null,"Next departure: ",e.first),o.a.createElement("li",null,"Following departure: ",e.second)))})))))}))),p=n(20),E=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA":return console.log("FETCH_DATA RUNS"),Object(s.a)({},e,{isLoading:!0});case"DATA_SUCCESS":return console.log("DATA SUCCESS"),console.log("PAYLOAD",t.payload),console.log("STATE",e),Object(s.a)({},e,{ttc_info:t.payload,isLoading:!1,error:"",showInfo:!0});case"DATA_ERROR":return console.log("DATA_ERROR"),Object(s.a)({},e,{isLoading:!1});default:return e}}),Object(c.a)(p.a));var h=function(){return o.a.createElement(r.a,{store:E},o.a.createElement("div",{className:"App"},o.a.createElement(f,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.de866925.chunk.js.map